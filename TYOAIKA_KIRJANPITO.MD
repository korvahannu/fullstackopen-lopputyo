# työaikakirjanpito

| päivä | aika | mitä tein  |
| :----:|:-----| :-----|
| 4.1.2021. | 1.5    | Alustin front- ja backending. Frontending alustava toiminnallisuus hahmotettu. Mongo yms. Säädöt toimii backendissä. Git initioitu sekä ajanhallinnan taulukko (eli tämä). |
| 5.1.2021. | 2.5    | Eslint otettu käyttöön. Backendissä toimii nyt sisäänkirjautuminen, käyttäjien luominen adminin toimesta, admin tunnukset ym. Skeemat initioitu. Testeri alustettu. Koodia kommentoitu parhaan visioni mukaan |
| 6.1.2021. | 2    | Supertest ja jest testit tehty user ja login -routereihin. Säädetty vähän miten erityyppiset käyttäjät pääsee käsiksi tietoihin. Alustettu categories -routeria. |
| 6.1.2021. | 2    | Categories-router tehty ja testerit sitä varten kirjoitettu |
| 7.1.2021. | 2.5    | Accounts, paymentMethods ja user -routerit asennettu. Testeriä säädetty hieman. Käyttäjän voi nyt disabloida. Testerit pitää vielä tehdä uusille routereille, sitten voin tehdä viimeisenä transactions -router ja täten backendin pitäisi teoriassa toimia odotetusti. |
| 8.1.2021. | 3    | Testerit kirjoitettu routeille accounts, paymentMethods ja user. Monta bugia löytyi joten testien kirjoittaminen on osoittautunut hedelmälliseksi. |
| 9.1/10.1.2021. | 3    | Transaction routeri kirjoitettu loppuun. Testerit kirjoitettu. Bugeja korjailtu. Alustava backend valmis? |
| 10.1.2021. | 1    | Pientä koodin refaktorointia ja turhien kommentien poistoa |
| 12.1.2021. | 4    | Yritin tehdä kaikenlaisia hienoja lisäominaisuuksia, jotka lopulta poistin. Jäljelle jäi session control ja logout -router. Sessio expiroituu automaagisesti 24h jälkeen. Testerit kirjoitettu. |
| 13.1.2021. | 1.5    | Morgan otettu käyttöön pyyntöjen loggausta varten. Lisätty ominaisuus, jossa käyttäjän rekisteröinti luo hänelle oletusarvoiset kategoriat, tilit ja maksutavat. Nyt jos käyttäjä disabloidaan, hänen sessiot poistetaan. |
| 18.1.2021. | 2   | Redux ym. avustavat kirjastot otettu käyttöön frontendissä, log in prototyyppi tehty ja toimii (pystyt kirjautumaan sisään). Jotain backendin pikkukorjauksia tehty. |
| 19.1.2021. | 1.5   | Aika nahkeasti lähti nyt frontending tekeminen käyntiin, mutta: logout nyt kirjaa pois käyttäjän session backendistä (unohdin tehdä tämän eilen). Tein pari custom hookkia mitä tulen tulevaisuudessa käyttämään. Poiston komponentin loginHelper ja hieman refaktoroin koodia selkolukuisemmaksi. |
| 20.1.2021. | 1.5   | Date -osio lisätty transactioniin (timestamp ei ole riittävä tieto). Nyt periaatteessa käyttäjät voivat lisätä tuloja ja menoja. Mitään virheentarkastusa ei ole ja koodi sekä ulkoasu tarvii HUOMATTAVAA refaktorointia. Jostain se on vain aloitettava. Versio nyt on 0.011. |
| 21.1.2021. | 3.5   | Noin tunti meni kun luin Material-UI dokumentaatiota. Loput ajat meni sen implementoidessa => Login screen on nyt material UI:lla tehty. Tein myös notificationreducerin, jota eri komponentit voivat käyttää viestien lähettämiseen. Toistaiseksi vain login-screen käyttää sitä. Alustin myös vähän transactions-listan muuttamista MUI Datagridiksi. Omasta mielestä dokumentaatio datagridiin ollun melko hankalaa luettavaa, mutta nyt sain esitettävään muotoon sen. |
| 21.1.2021. | 1   | Olin niin tyytyväinen frontendin tekemiseen, että tein tunnin lisätyötä! mui appbar lisätty yläosaan, jota kautta tapahtuu esim. log out |
| 22.1.2021. | 1   | Sidebar lisätty, ei vielä sisällä toiminnallisuuksia |
| 22.1.2021. | 2.5 | Transaktioiden lisäys siirretty kokonaan material-ui-komponentteihin ja se toimii. Projektin juuressa on nyt featurelist -tiedosto, jossa lukee mitä haluan vielä tehdä. |
| 23.1.2021. | 6 | Todella monta muutosta. 1) Poistin ja korvasin aiemmin tehndyn axios middlewaren, koska en saanut sitä toimimaan. Refaktoroin backendia siten, että transaction model on nyt jaettu income ja outcome modeleihin. Tämä vei ihan jumalattomasti työtä. Molemmille on omat routerit, mutta tämän lisäksi transaction router yhdistää nämä kaksi modelia yhdeksi suoraviivaiseksi malliksi. Myös deletemany -requestilla voi käyttäjä poistaa tililtä mitä haluaa. Testerit kirjoitettu niille mitä mieleni juolahti. Onkohan testausta mahdollista jakaa eri tiedostoihin? Accountilla on nyt balance-arvo, jota käytetään milloin mihinkin. Income ja outcome ottaa molemmat vain positiivisia lukuja, jotka esitetään käyttäjälle negatiivisena. Category modelissa on nyt tyyppi 'income' tai 'outcome'. Accountissa avatar vaihtoehto, mutta ei sisällä vielä toiminnallisuutta. Frontendissä laitettu asiat seuraavaan tätä uutta backendia ja aika paljon siin' seuraamista olikin ja bugeja piti paikkailla ja korjailla paljon. Lisäsin myös hienon loadingbarin tuohon etusivulle, jota näytetään tarvittaessa (nyt vain transaction viewissä, mutta enköhän implementoi sen muihinkin vieweihin kun on sen aika) |
| 23.1.2021. | 1 | Pientä pintahiomasti tein vielä illasta ja päivitin featurelistiä niin muistan mitä seuraavaksi tehdä |
| 24.1.2021. | 2 | Refaktoroin newTransaction -dialogia => nyt on eri dialogi incomelle ja outcomelle. Molemmat toimivat! Backendistä piti korjata bugi |
| 25.1.2021. | 3 | React router otettu käyttöön ja tein jonkinnäköisen systeemi, jotta router muistaa sijainnin mihin käyttäjä jäi. Koodia hieman refaktoroitu. Accounts-näkymä tehty, josta näkee nykyiset accountit ja sen paymentMethodit. Vielä pitää lisätä ainakin paymentMethodien ja accountien lisäys ja poistaminen asianmukaisesti. |
| 25.1.2021. | 2 | Pientä viilausta vähän joka paikasta. Nyt on mahdollista poistaa accountteja. PaymentMethodit seuraavaksi. Uusia accountteja ja paymentMethodeja voi lisätä accounts-näkymästä. Accountin editointi pitää vielä tehdä. Myös yksittäisen transaktion editointi on todo-listalla. Jos käyttäjä poistaa accountin, niin frontend ilmoittaa vain transaktion accountin kohdalle "deleted account". |
| 25.1.2021. | 2 | Vielä illasta lisää viilausta :-) Päädyin vaihtamaan kaikk useAccounts ym. hookit redux-reducereiksi, koska backend-sai jatkuvasti pyyntöjä frontendiltä. Tämän lisäksi koodia on nyt mielestäni helpompi lukea. Poistin myös käyttämättömiä komponentteja.  |
| 26.1.2021. | 3 | Nyt on mahdollista muokata yksittäisiä transaktioita. Backendiin piti tehdä routereita tätä varten. Päivitin featurelistaan ominaisuuksia, jotka haluan vielä ennen kuin siirryn versiosta 0.0.x versioon 0.1.xq |
| 27.1.2021 | 1.5 | Refaktoroin hieman routerointia ja näkymien hallintaa sekä App -komponenttia. Siirsin osan koodista jo käyttämään useStyles() -hookkia. Pitää vielä viimeistellä useStylesiin siirtyminen. Version: 0.0.23 |
| 1.2.2021 | 2.5 | Uusi Alert-komponentti. Input validation laitettu. Dialogin classesia hiottu. Nyt voi poistaa yksittäisen transaktion. Version: 0.0.24 |
| 1.2.2021| 2 | Nyt voi muokata profiilia ja avatarin vaihtaa. Sähköpostia ja usernamea ei voi vielä vaihtaa, vaikka se nyt tuskin ongelmia tuottaisi. Haluan kuitenkin tulevaisuudessa lisäät sähköpostivarmistuksen yms yms niin en tehnyt sposti muokkausta vielä. Backendiin piti yksi routeri lisätä ja huomasin yhden suuren tietoturva-aukon sieltä, minkä paikkasin samalla. Versio: 0.0.25 |
| 2.2.2021 | 4 | Käyttäjä voi nyt rekisteröityä ja rekisteröitymisen varmistus tapahtuu sähköpostitse. Tätä varten bäckendiin asennettiin nodemail ja uusi route sitä varten. Muita frontendin komponentteja lisättiin: Confirm email, verify user yms. Koska nyt käyttäjät pitää varmistaa sähköpostilla, niin testit eivät aivan täysin toimi. En vielä tiedä ratkaisua. Seuraava kohde on kuitenkin saada forgot password? -osio toimimaan. Versio: 0.0.26 |
| 3.2.2021 | 2 | Nyt forgot password? toimii moitteetta. Versio 0.0.27 |
| 3.2.2021 | 3 | Ulkonäköä hiottu siten, että kun odotetaan jotain tietokannasta niin tulostetaan ruudulle loading-bar. Toteutusta varten kolme reduceria muutettu. Toiminnallisuus on ihan 4/5 minun mielestäni. Seuraavaksi on tarkoituksena tehdä tuo sivu mobiiliystävälliseksi yms. Kun tämä versio on hiottu timantiksi alan lisäämään noita tavoite-ominaisuuksia. Versio 0.0.28 |
| 4.2.2021 | 2 | Hiottu jonkin verran ulkonäköä. Myös teeman nyt voi vaihtaa välillä sininen, vihreä, punainen ja pinkki. Käyttäjän preferenssi ei vielä tallennu mihinkään. Versio 0.0.29 |
| 5.2.2021 | 3 | Home -näkymää prototypoitu. Tiedot on nyt kovakoodattuna, joten seuraava vaihe olisikin tehdä varsinainen logiikka taustalle. Hyvältä näyttää anyways. Teeman vaihto tallennetaan nyt localStorageen. Jossain vaiheessa ehkä mongoon? en ole ihan varma onko se niin tarpeellista. Hiottu teemoja. Versio 0.0.30 |
| 5.2.2021 | 3 | Etusivu nyt toimii sataprosenttisesti. Categories-näkymää alustettu. Versio 0.0.31 |
| 7.2.2021 | 5 | Backendiä piti vähän refaktoroida ja frontendin categories-näkymä on nyt tehty. Ei nyt oikein aivot pelannut niin meni paljon aikaa tehdä jotain näin yksinkertaista. Versio 0.0.32 |
| 9.2.2021 | 3.5h | Categories näkymän yksi näkymä on tehty loppuun + refaktorointia hieman. Tuo backendin suunnittelemattomuus kyllä iskee pahasti peffaan nyt :S. Versio 0.0.34 |
| 10.2.2021 | 3h | Charts toimii nyt ja näkymä on valmis. Tai ainakin jonkinäköinen versio. Yritän deployata herokuun. Versio 0.0.35 |
| 10.2.2021 | 1h | Yritin deployata herokuun ja löytyi liuta uusia bugeja :D Korjasin nyt backendiä hieman. Nyt esim. backendi toimii react routerin kanssa. Tätähän olisi ollut hyvä testata jo aiemmin. Versio 0.0.36 | 
